import java.util.ArrayList;
import java.util.List;

public class MaxSubString {
  public static int maxSubStringWithoutRepetition(String str) throws Exception {
    if (str == null || str.isEmpty()) {
            return "";
        }

        int maxLen = 1, currLen = 1;
        int maxStart = 0, currStart = 0;

        for (int i = 1; i < str.length(); i++) {
            if (str.charAt(i) != str.charAt(i - 1)) {
                currLen++;
            } else {
                currLen = 1;
                currStart = i;
            }

            if (currLen > maxLen) {
                maxLen = currLen;
                maxStart = currStart;
            }
        }

        //return str.substring(maxStart, maxStart + maxLen);
        return maxLen;
  }

  public static int maxSubstringWithRepetition(String str) throws Exception {
    if (str == null || str.isEmpty()) {
            return "";
        }

        int maxLen = 1, currLen = 1;
        int maxStart = 0, currStart = 0;

        for (int i = 1; i < str.length(); i++) {
            if (str.charAt(i) == str.charAt(i - 1)) {
                currLen++;
            } else {
                currLen = 1;
                currStart = i;
            }

            if (currLen > maxLen) {
                maxLen = currLen;
                maxStart = currStart;
            }
        }

        //return str.substring(maxStart, maxStart + maxLen);
        return maxLen;
  }

public static int[] longestConsecutiveArray(int a[]) throws Exception {
		int start = 0;
		int currentLen = 1;
		int maxLenght = 1;
		int maxStart = 0;
		if(a.length==0) {
			throw new Exception("Provide valid array");
		}
		if(a.length==1) {
			return a;
		}
		for(int i =1; i< a.length; i++) {
			if(a[i] == a[i-1] +1) {//1 = 
				currentLen++;
			}else {
				currentLen = 1;
				start = i;
			}
			
			if(currentLen>maxLenght) {
				maxLenght = currentLen;
				maxStart = start;
			}
		}
		
		return Arrays.copyOfRange(a, maxStart, maxStart+maxLenght);
	}

  public static void main(String[] a) throws Exception {
    //this is also sliding window approach.
    String str = "abcdeaa";
    System.out.println("Length of max sub array: " + maxSubStringWithoutRepetition(str));

    String repeatedCharString = "aaabbccababadddd";
    System.out.println("Length of max sub array: " + maxSubstringWithRepetition(repeatedCharString));
    System.out.println(Arrays.toString(longestConsecutiveArray(new int[] {1,2,3,4,5,1,2,3,4,5,6,7,8,9,1,2,3})));
  }
}
